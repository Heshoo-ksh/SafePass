@inject IMediatorService MediatorService

<MudCard Class="pa-3">
    <MudText Typo="Typo.h6">Master Password Health</MudText>
    <MudText Typo="Typo.body1" Color="@PasswordHealthColor">@PasswordHealthMessage</MudText>
</MudCard>

@code {
    private string PasswordHealthMessage = "Unknown";
    private Color PasswordHealthColor = Color.Default;

    protected override void OnInitialized()
    {
        MediatorService.Register("PasswordHealthChanged", OnPasswordHealthChanged);
    }

    private void OnPasswordHealthChanged(object data)
    {
        if (data is string health)
        {
            PasswordHealthMessage = health;
            PasswordHealthColor = health switch
            {
                "Strong" => Color.Success,
                "Medium" => Color.Warning,
                "Weak" => Color.Error,
                _ => Color.Default
            };
            StateHasChanged();
        }
    }
}
